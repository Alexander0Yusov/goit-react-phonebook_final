"use strict";(self.webpackChunkgoit_react_phonebook_final=self.webpackChunkgoit_react_phonebook_final||[]).push([[511],{9511:function(e,t,a){a.r(t),a.d(t,{Contacts:function(){return pe},default:function(){return fe}});var n=a(9439),s="Contacts_contacts__gVK0J",o=a(2791),r=a(9434),c=a(4768),i="ContactList_contactList__UFVCg",l="ContactList_contactListUl__H+yFe",d=a(4691),m="ListItem_listItem__POSh4",u="ListItem_imageThumb__Eec-4",_="ListItem_favoriteBorderIcon__ME4Dm",p="ListItem_favoriteIcon__Qnsa3",f="ListItem_dataBox__SmNq0",h="ListItem_pName__pIS+q",v="ListItem_pNumber__5gwYl",g="ListItem_button__6KOfW",x="ListItem_callIcon__0sjQf",j="ListItem_removeIcon__9qhcz",N="ListItem_photoDemo__+09+G",C=a(458),b=a(6355),F=a(6856),L=a(1634),y=a(9109),I=a(184),A="IsFavorite",E="NotFavorite",w=function(e){var t=e.id,a=e.name,s=e.number,c=e.url,i=e.isFavorite,l=e.toggleModal,d=(0,o.useState)(i),w=(0,n.Z)(d,2),S=w[0],M=w[1],k=(0,r.I0)();return(0,I.jsxs)("li",{className:m,onClick:function(e){var n=e.target.tagName;"LI"!==n&&"P"!==n||(k((0,L.r0)({id:t,name:a,number:s,url:c,isFavorite:S,action:"Edit"})),l())},children:[(0,I.jsxs)("div",{className:u,onClick:function(){if(S===A)return k((0,y.uH)({id:t,number:"".concat(s,"|-|").concat(c,"|-|").concat(E)})),void M(E);k((0,y.uH)({id:t,number:"".concat(s,"|-|").concat(c,"|-|").concat(A)})),M(A)},children:[c&&(0,I.jsx)("img",{className:N,src:c,alt:"User portrait"}),S===A?(0,I.jsx)(F.Yqy,{className:p}):(0,I.jsx)(F.iqB,{className:_})]}),(0,I.jsxs)("div",{className:f,children:[(0,I.jsx)("p",{className:h,children:a}),(0,I.jsx)("p",{className:v,children:s})]}),(0,I.jsx)("button",{className:g,type:"button",children:(0,I.jsx)(b.I7T,{className:x})}),(0,I.jsx)("button",{onClick:function(){k((0,y.xX)(t))},className:g,type:"button",children:(0,I.jsx)(C.wAo,{className:j})})]})},S=function(e){var t,a=e.toggleModal,s=(0,r.I0)(),m=(0,r.v9)(c.el),u=m.contacts,_=m.isLoading,p=(0,r.v9)(c.S7).filter;(0,o.useEffect)((function(){s((0,y.m$)())}),[s]);return(0,I.jsxs)("div",{className:i,children:[(0,I.jsx)("ul",{className:l,children:null===(t=function(){var e=null===p||void 0===p?void 0:p.toLowerCase();return null===u||void 0===u?void 0:u.filter((function(t){var a;return null===(a=t.name)||void 0===a?void 0:a.toLowerCase().includes(e)})).sort((function(e,t){return e.name.localeCompare(t.name)}))}())||void 0===t?void 0:t.map((function(e){var t=e.id,s=e.name,o=e.number.split("|-|"),r=(0,n.Z)(o,3),c=r[0],i=r[1],l=r[2];return(0,I.jsx)(w,{id:t,name:s,number:c,url:i,isFavorite:l,toggleModal:a},t)}))}),_&&(0,I.jsx)("p",{children:(0,I.jsx)(d.s5,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"96",visible:!0})})]})},M="Filter_panel__zlfTk",k="Filter_label__vEd1E",Z="Filter_input__N7T3z",T="Filter_searchPic__P7Cl2",z="Filter_modalOpen__8iLEA",q=a(3728),B=a(6036),U=function(e){var t=e.onModalOpen,a=(0,r.I0)(),n=(0,r.v9)(c.S7).filter;return(0,I.jsxs)("div",{className:M,children:[(0,I.jsxs)("label",{className:k,children:[(0,I.jsx)("input",{onChange:function(e){a((0,L.Tv)(e.target.value))},className:Z,value:n,type:"text",placeholder:"Search by Name"}),(0,I.jsx)("span",{className:T,children:(0,I.jsx)(q.Vph,{})})]}),(0,I.jsx)("span",{onClick:function(){a((0,L.r0)({name:"",number:"",url:"",action:"Add"})),t()},className:z,type:"button",title:"Create contact",children:(0,I.jsx)(B.L0J,{})})]})},D="Modal_Overlay__yoxbg",P="Modal_Modal__I1UYJ",K=a(4164),H=document.getElementById("modal-root"),O=function(e){var t=e.children,a=e.onClose;(0,o.useEffect)((function(){var e=function(e){"Escape"===e.code&&a()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[a]);return(0,K.createPortal)((0,I.jsx)("div",{onClick:function(e){e.target===e.currentTarget&&a()},className:D,children:(0,I.jsx)("div",{className:P,children:t})}),H)},R="FormAddContact_form__IqSWD",Y="FormAddContact_iconSpan__oVHgd",J="FormAddContact_formLabel__F5jeu",W="FormAddContact_input__eRaal",Q="FormAddContact_imageLabel__r7gcI",V="FormAddContact_icon__CFe48",$="FormAddContact_imageInput__7qZOC",G="FormAddContact_imageWarningSpan__TrBvT",X="FormAddContact_button__YQkmr",ee="FormAddContact_photo__hcKNm",te=a(3853),ae=function(e){var t=e.toggleModal,a=(0,o.useState)(""),s=(0,n.Z)(a,2),i=s[0],l=s[1],d=(0,o.useState)(""),m=(0,n.Z)(d,2),u=m[0],_=m[1],p=(0,o.useState)(""),f=(0,n.Z)(p,2),h=f[0],v=f[1],g=(0,r.v9)(c.el).contacts,x=(0,r.I0)();return(0,I.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(e){var t=function(e,t){var a=e.toLowerCase();return t.find((function(e){return e.name.toLowerCase()===a}))}(e.name,g);t?alert("".concat(t.name," is already in contacts !")):x((0,y.Rx)(e))}({name:i,number:"".concat(u,"|-|").concat(h,"|-|").concat(E)}),t()},className:R,autoComplete:"off",children:[(0,I.jsx)("span",{className:Y,children:h?(0,I.jsx)("img",{className:ee,src:h,alt:"User portrait"}):(0,I.jsx)(te.fzv,{})}),(0,I.jsx)("label",{className:J,children:(0,I.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:i,onChange:function(e){l(e.currentTarget.value)},className:W,placeholder:"Name"})}),(0,I.jsx)("label",{className:J,children:(0,I.jsx)("input",{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:u,onChange:function(e){_(e.currentTarget.value)},className:W,placeholder:"Number"})}),(0,I.jsxs)("label",{className:Q,children:[(0,I.jsx)(F.Kuy,{className:V}),(0,I.jsx)("input",{type:"file",name:"image",accept:"image/*,.png,.jpg,.gif,.web",className:$,onChange:function(e){var t=e.target.files[0],a=new FileReader;a.readAsDataURL(t),a.onload=function(){v(a.result)}}}),(0,I.jsx)("span",{className:G,children:"max 70KB"})]}),(0,I.jsx)("button",{className:X,type:"submit",children:"Add"})]})},ne="FormEditContact_form__YFT7R",se="FormEditContact_iconSpan__gn5mi",oe="FormEditContact_formLabel__uPysa",re="FormEditContact_input__PcLjH",ce="FormEditContact_imageLabel__uKXEH",ie="FormEditContact_icon__yG3Dt",le="FormEditContact_imageInput__B2MIb",de="FormEditContact_imageWarningSpan__QTZnL",me="FormEditContact_button__5Y-4y",ue="FormEditContact_photo__5svM0",_e=function(e){var t=e.toggleModal,a=(0,r.v9)(c.el).contacts,s=(0,r.v9)(c.S7).selectedUser,i=s.id,l=s.name,d=s.number,m=s.url,u=s.isFavorite,_=(0,r.I0)(),p=(0,o.useState)(l),f=(0,n.Z)(p,2),h=f[0],v=f[1],g=(0,o.useState)(d),x=(0,n.Z)(g,2),j=x[0],N=x[1],C=(0,o.useState)(m),b=(0,n.Z)(C,2),L=b[0],A=b[1];return(0,I.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(e){var t=function(e,t){var a=e.toLowerCase();return t.find((function(e){return e.name.toLowerCase()===a}))}(e.name,a);t?alert("".concat(t.name," is already in contacts !")):_((0,y.uH)(e))}({id:i,name:h,number:"".concat(j,"|-|").concat(L,"|-|").concat(u)}),t()},className:ne,autoComplete:"off",children:[(0,I.jsx)("span",{className:se,children:L?(0,I.jsx)("img",{className:ue,src:L,alt:"User portrait"}):(0,I.jsx)(te.fzv,{})}),(0,I.jsx)("label",{className:oe,children:(0,I.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:h,onChange:function(e){v(e.currentTarget.value)},className:re,placeholder:"Name"})}),(0,I.jsx)("label",{className:oe,children:(0,I.jsx)("input",{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:j,onChange:function(e){N(e.currentTarget.value)},className:re,placeholder:"Number"})}),(0,I.jsxs)("label",{className:ce,children:[(0,I.jsx)(F.Kuy,{className:ie}),(0,I.jsx)("input",{type:"file",name:"image",accept:"image/*,.png,.jpg,.gif,.web",className:le,onChange:function(e){var t=e.target.files[0],a=new FileReader;a.readAsDataURL(t),a.onload=function(){A(a.result)}}}),(0,I.jsx)("span",{className:de,children:"max 70KB"})]}),(0,I.jsx)("button",{className:me,type:"submit",children:"Edit"})]})},pe=function(){var e=(0,o.useState)(!1),t=(0,n.Z)(e,2),a=t[0],i=t[1],l=(0,r.v9)(c.S7).selectedUser,d=function(){i((function(e){return!e}))};return(0,I.jsxs)("div",{className:s,children:[(0,I.jsx)(U,{onModalOpen:d}),(0,I.jsx)(S,{toggleModal:d}),a&&(0,I.jsx)(O,{onClose:d,children:"Edit"===(null===l||void 0===l?void 0:l.action)?(0,I.jsx)(_e,{toggleModal:d}):(0,I.jsx)(ae,{toggleModal:d})})]})},fe=pe}}]);
//# sourceMappingURL=511.8f970238.chunk.js.map