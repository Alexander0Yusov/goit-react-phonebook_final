"use strict";(self.webpackChunkgoit_react_phonebook_final=self.webpackChunkgoit_react_phonebook_final||[]).push([[196],{6196:function(e,t,a){a.r(t),a.d(t,{Contacts:function(){return pe},default:function(){return fe}});var n=a(9439),s=a(2791),o=a(9434),r=a(4768),c=a(4691),i="ContactList_contactList__UFVCg",l="ContactList_contactListUl__H+yFe",d="ListItem_listItem__POSh4",m="ListItem_imageThumb__Eec-4",u="ListItem_favoriteBorderIcon__ME4Dm",_="ListItem_favoriteIcon__Qnsa3",p="ListItem_dataBox__SmNq0",f="ListItem_pName__pIS+q",h="ListItem_pNumber__5gwYl",v="ListItem_button__6KOfW",g="ListItem_callIcon__0sjQf",x="ListItem_removeIcon__9qhcz",N="ListItem_photoDemo__+09+G",j=a(458),C=a(6355),b=a(6856),F=a(1634),L=a(9109),y=a(184),A="IsFavorite",I="NotFavorite",E=function(e){var t=e.id,a=e.name,r=e.number,c=e.url,i=e.isFavorite,l=e.toggleModal,E=(0,s.useState)(i),S=(0,n.Z)(E,2),w=S[0],z=S[1],k=(0,o.I0)();return(0,y.jsxs)("li",{className:d,onClick:function(e){var n=e.target.tagName;"LI"!==n&&"P"!==n||(k((0,F.r0)({id:t,name:a,number:r,url:c,isFavorite:w,action:"Edit"})),l())},children:[(0,y.jsxs)("div",{className:m,onClick:function(){if(w===A)return k((0,L.uH)({id:t,number:"".concat(r,"|-|").concat(c,"|-|").concat(I)})),void z(I);k((0,L.uH)({id:t,number:"".concat(r,"|-|").concat(c,"|-|").concat(A)})),z(A)},children:[c&&(0,y.jsx)("img",{className:N,src:c,alt:"User portrait"}),w===A?(0,y.jsx)(b.Yqy,{className:_}):(0,y.jsx)(b.iqB,{className:u})]}),(0,y.jsxs)("div",{className:p,children:[(0,y.jsx)("p",{className:f,children:a}),(0,y.jsx)("p",{className:h,children:r})]}),(0,y.jsx)("button",{className:v,type:"button",children:(0,y.jsx)(C.I7T,{className:g})}),(0,y.jsx)("button",{onClick:function(){k((0,L.xX)(t))},className:v,type:"button",children:(0,y.jsx)(j.wAo,{className:x})})]})},S=function(e){var t,a=e.toggleModal,d=(0,o.I0)(),m=(0,o.v9)(r.el),u=m.contacts,_=m.isLoading,p=(0,o.v9)(r.S7).filter;(0,s.useEffect)((function(){d((0,L.m$)())}),[d]);return(0,y.jsxs)("div",{className:i,children:[(0,y.jsx)("ul",{className:l,children:null===(t=function(){var e=null===p||void 0===p?void 0:p.toLowerCase();return null===u||void 0===u?void 0:u.filter((function(t){var a;return null===(a=t.name)||void 0===a?void 0:a.toLowerCase().includes(e)})).sort((function(e,t){return e.name.localeCompare(t.name)}))}())||void 0===t?void 0:t.map((function(e){var t=e.id,s=e.name,o=e.number.split("|-|"),r=(0,n.Z)(o,3),c=r[0],i=r[1],l=r[2];return(0,y.jsx)(E,{id:t,name:s,number:c,url:i,isFavorite:l,toggleModal:a},t)}))}),_&&(0,y.jsx)("p",{children:(0,y.jsx)(c.s5,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"96",visible:!0})})]})},w="Filter_panel__zlfTk",z="Filter_label__vEd1E",k="Filter_input__N7T3z",Z="Filter_searchPic__P7Cl2",M="Filter_modalOpen__8iLEA",T=a(3728),q=a(6036),B=function(e){var t=e.onModalOpen,a=(0,o.I0)(),n=(0,o.v9)(r.S7).filter;return(0,y.jsxs)("div",{className:w,children:[(0,y.jsxs)("label",{className:z,children:[(0,y.jsx)("input",{onChange:function(e){a((0,F.Tv)(e.target.value))},className:k,value:n,type:"text",placeholder:"Search by Name"}),(0,y.jsx)("span",{className:Z,children:(0,y.jsx)(T.Vph,{})})]}),(0,y.jsx)("span",{onClick:function(){a((0,F.r0)({name:"",number:"",url:"",action:"Add"})),t()},className:M,type:"button",title:"Create contact",children:(0,y.jsx)(q.L0J,{})})]})},U=a(4164),D="Modal_Overlay__yoxbg",J="Modal_Modal__I1UYJ",P=document.getElementById("modal-root"),K=function(e){var t=e.children,a=e.onClose;(0,s.useEffect)((function(){var e=function(e){"Escape"===e.code&&a()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[a]);return(0,U.createPortal)((0,y.jsx)("div",{onClick:function(e){e.target===e.currentTarget&&a()},className:D,children:(0,y.jsx)("div",{className:J,children:t})}),P)},O="Contacts_contacts__gVK0J",R="AddContactForm_form__JaAdA",V="AddContactForm_iconSpan__SB8OV",H="AddContactForm_formLabel__iq-d-",W="AddContactForm_input__wYAJT",Y="AddContactForm_imageLabel__tyrrv",Q="AddContactForm_icon__I7rz2",$="AddContactForm_imageInput__mXQB-",X="AddContactForm_imageWarningSpan__k5nFx",G="AddContactForm_button__-ootK",ee="AddContactForm_photo__NriCo",te=a(3853),ae=function(e){var t=e.toggleModal,a=(0,s.useState)(""),c=(0,n.Z)(a,2),i=c[0],l=c[1],d=(0,s.useState)(""),m=(0,n.Z)(d,2),u=m[0],_=m[1],p=(0,s.useState)(""),f=(0,n.Z)(p,2),h=f[0],v=f[1],g=(0,o.v9)(r.el).contacts,x=(0,o.I0)();return(0,y.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(e){var t=function(e,t){var a=e.toLowerCase();return t.find((function(e){return e.name.toLowerCase()===a}))}(e.name,g);t?alert("".concat(t.name," is already in contacts !")):x((0,L.Rx)(e))}({name:i,number:"".concat(u,"|-|").concat(h,"|-|").concat(I)}),t()},className:R,autoComplete:"off",children:[(0,y.jsx)("span",{className:V,children:h?(0,y.jsx)("img",{className:ee,src:h,alt:"User portrait"}):(0,y.jsx)(te.fzv,{})}),(0,y.jsx)("label",{className:H,children:(0,y.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:i,onChange:function(e){l(e.currentTarget.value)},className:W,placeholder:"Name"})}),(0,y.jsx)("label",{className:H,children:(0,y.jsx)("input",{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:u,onChange:function(e){_(e.currentTarget.value)},className:W,placeholder:"Number"})}),(0,y.jsxs)("label",{className:Y,children:[(0,y.jsx)(b.Kuy,{className:Q}),(0,y.jsx)("input",{type:"file",name:"image",accept:"image/*,.png,.jpg,.gif,.web",className:$,onChange:function(e){var t=e.target.files[0],a=new FileReader;a.readAsDataURL(t),a.onload=function(){v(a.result)}}}),(0,y.jsx)("span",{className:X,children:"max 70KB"})]}),(0,y.jsx)("button",{className:G,type:"submit",children:"Add"})]})},ne="EditContactForm_form__L+B1Z",se="EditContactForm_iconSpan__zPs5N",oe="EditContactForm_formLabel__FRN2L",re="EditContactForm_input__+zEeD",ce="EditContactForm_imageLabel__SoT6g",ie="EditContactForm_icon__A0SiV",le="EditContactForm_imageInput__Vazlz",de="EditContactForm_imageWarningSpan__T2hih",me="EditContactForm_button__6oq3H",ue="EditContactForm_photo__qZJr1",_e=function(e){var t=e.toggleModal,a=(0,o.v9)(r.el).contacts,c=(0,o.v9)(r.S7).selectedUser,i=c.id,l=c.name,d=c.number,m=c.url,u=c.isFavorite,_=(0,o.I0)(),p=(0,s.useState)(l),f=(0,n.Z)(p,2),h=f[0],v=f[1],g=(0,s.useState)(d),x=(0,n.Z)(g,2),N=x[0],j=x[1],C=(0,s.useState)(m),F=(0,n.Z)(C,2),A=F[0],I=F[1];return(0,y.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(e){var t=function(e,t){var a=e.toLowerCase();return t.find((function(e){return e.name.toLowerCase()===a}))}(e.name,a);t?alert("".concat(t.name," is already in contacts !")):_((0,L.uH)(e))}({id:i,name:h,number:"".concat(N,"|-|").concat(A,"|-|").concat(u)}),t()},className:ne,autoComplete:"off",children:[(0,y.jsx)("span",{className:se,children:A?(0,y.jsx)("img",{className:ue,src:A,alt:"User portrait"}):(0,y.jsx)(te.fzv,{})}),(0,y.jsx)("label",{className:oe,children:(0,y.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:h,onChange:function(e){v(e.currentTarget.value)},className:re,placeholder:"Name"})}),(0,y.jsx)("label",{className:oe,children:(0,y.jsx)("input",{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:N,onChange:function(e){j(e.currentTarget.value)},className:re,placeholder:"Number"})}),(0,y.jsxs)("label",{className:ce,children:[(0,y.jsx)(b.Kuy,{className:ie}),(0,y.jsx)("input",{type:"file",name:"image",accept:"image/*,.png,.jpg,.gif,.web",className:le,onChange:function(e){var t=e.target.files[0],a=new FileReader;a.readAsDataURL(t),a.onload=function(){I(a.result)}}}),(0,y.jsx)("span",{className:de,children:"max 70KB"})]}),(0,y.jsx)("button",{className:me,type:"submit",children:"Edit"})]})},pe=function(){var e=(0,s.useState)(!1),t=(0,n.Z)(e,2),a=t[0],c=t[1],i=(0,o.v9)(r.S7).selectedUser,l=function(){c((function(e){return!e}))};return(0,y.jsxs)("div",{className:O,children:[(0,y.jsx)(B,{onModalOpen:l}),(0,y.jsx)(S,{toggleModal:l}),a&&(0,y.jsx)(K,{onClose:l,children:"Edit"===(null===i||void 0===i?void 0:i.action)?(0,y.jsx)(_e,{toggleModal:l}):(0,y.jsx)(ae,{toggleModal:l})})]})},fe=pe}}]);
//# sourceMappingURL=196.ac06b78e.chunk.js.map