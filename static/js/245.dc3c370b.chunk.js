"use strict";(self.webpackChunkgoit_react_phonebook_final=self.webpackChunkgoit_react_phonebook_final||[]).push([[245],{9245:function(e,t,a){a.r(t),a.d(t,{Contacts:function(){return ne},default:function(){return se}});var n=a(9439),s=a(2791),o=a(9434),r=a(1634),i="Form_form__e1yzW",c="Form_iconSpan__49o47",l="Form_formLabel__alHO0",m="Form_input__FTtTw",u="Form_imageLabel__58gHn",d="Form_icon__zEIiB",_="Form_imageInput__sG6S2",f="Form_imageWarningSpan__LbjjH",p="Form_button__8NOIT",v="Form_photo__4Kxdb",h=a(3853),x=a(6856),g=a(9109),j=a(4768),N="ListItem_listItem__POSh4",b="ListItem_imageThumb__Eec-4",I="ListItem_favoriteBorderIcon__ME4Dm",C="ListItem_favoriteIcon__Qnsa3",L="ListItem_dataBox__SmNq0",F="ListItem_pName__pIS+q",y="ListItem_pNumber__5gwYl",w="ListItem_button__6KOfW",k="ListItem_callIcon__0sjQf",S="ListItem_removeIcon__9qhcz",E="ListItem_photoDemo__+09+G",M=a(458),T=a(6355),z=a(184),A="IsFavorite",Z="NotFavorite",O=function(e){var t=e.id,a=e.name,i=e.number,c=e.url,l=e.isFavorite,m=e.toggleModal,u=(0,s.useState)(l),d=(0,n.Z)(u,2),_=d[0],f=d[1],p=(0,o.I0)();return(0,z.jsxs)("li",{className:N,onClick:function(e){var n=e.target.tagName;"LI"!==n&&"P"!==n||(m(),p((0,r.r0)({id:t,name:a,number:i,url:c,isFavorite:_,action:"Edit"})))},children:[(0,z.jsxs)("div",{className:b,onClick:function(){if(_===A)return p((0,g.uH)({id:t,name:a,number:"".concat(i,"|-|").concat(c,"|-|").concat(Z)})),void f(Z);p((0,g.uH)({id:t,name:a,number:"".concat(i,"|-|").concat(c,"|-|").concat(A)})),f(A)},children:[c&&(0,z.jsx)("img",{className:E,src:c,alt:"User portrait"}),_===A?(0,z.jsx)(x.Yqy,{className:C}):(0,z.jsx)(x.iqB,{className:I})]}),(0,z.jsxs)("div",{className:L,children:[(0,z.jsx)("p",{className:F,children:a}),(0,z.jsx)("p",{className:y,children:i})]}),(0,z.jsx)("button",{className:w,type:"button",children:(0,z.jsx)(T.I7T,{className:k})}),(0,z.jsx)("button",{onClick:function(){p((0,g.xX)(t))},className:w,type:"button",children:(0,z.jsx)(M.wAo,{className:S})})]})},q=function(e){var t=e.toggleModal,a=(0,o.v9)(j.el).contacts,r=(0,o.v9)(j.S7).selectedUser,N=r.id,b=r.name,I=r.number,C=r.url,L=r.isFavorite,F=r.action,y=(0,o.I0)(),w=(0,s.useState)(b),k=(0,n.Z)(w,2),S=k[0],E=k[1],M=(0,s.useState)(I),T=(0,n.Z)(M,2),A=T[0],O=T[1],q=(0,s.useState)(C),B=(0,n.Z)(q,2),H=B[0],U=B[1];return(0,z.jsxs)("form",{onSubmit:function(e){var n;e.preventDefault(),"Add"===F&&function(e){var t=function(e,t){var a=e.toLowerCase();return t.find((function(e){return e.name.toLowerCase()===a}))}(e.name,a);t?alert("".concat(t.name," is already in contacts !")):y((0,g.Rx)(e))}({name:S,number:"".concat(A,"|-|").concat(H,"|-|").concat(Z)}),"Edit"===F&&(n={id:N,name:S,number:"".concat(A,"|-|").concat(H,"|-|").concat(L)},y((0,g.uH)(n))),t()},className:i,autoComplete:"off",children:[(0,z.jsx)("span",{className:c,children:H?(0,z.jsx)("img",{className:v,src:H,alt:"User portrait"}):(0,z.jsx)(h.fzv,{})}),(0,z.jsx)("label",{className:l,children:(0,z.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:S,onChange:function(e){E(e.currentTarget.value)},className:m,placeholder:"Name"})}),(0,z.jsx)("label",{className:l,children:(0,z.jsx)("input",{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:A,onChange:function(e){O(e.currentTarget.value)},className:m,placeholder:"Number"})}),(0,z.jsxs)("label",{className:u,children:[(0,z.jsx)(x.Kuy,{className:d}),(0,z.jsx)("input",{type:"file",name:"image",accept:"image/*,.png,.jpg,.gif,.web",className:_,onChange:function(e){var t=e.target.files[0],a=new FileReader;a.readAsDataURL(t),a.onload=function(){U(a.result)}}}),(0,z.jsx)("span",{className:f,children:"max 70KB"})]}),(0,z.jsx)("button",{className:p,type:"submit",children:F})]})},B=a(4691),H="ContactList_contactList__UFVCg",U="ContactList_contactListUl__H+yFe",P=function(e){var t,a=e.toggleModal,r=(0,o.I0)(),i=(0,o.v9)(j.el),c=i.contacts,l=i.isLoading,m=(0,o.v9)(j.S7).filter;(0,s.useEffect)((function(){r((0,g.m$)())}),[r]);return(0,z.jsxs)("div",{className:H,children:[(0,z.jsx)("ul",{className:U,children:null===(t=function(){var e=null===m||void 0===m?void 0:m.toLowerCase();return null===c||void 0===c?void 0:c.filter((function(t){var a;return null===(a=t.name)||void 0===a?void 0:a.toLowerCase().includes(e)})).sort((function(e,t){return e.name.localeCompare(t.name)}))}())||void 0===t?void 0:t.map((function(e){var t=e.id,s=e.name,o=e.number.split("|-|"),r=(0,n.Z)(o,3),i=r[0],c=r[1],l=r[2];return(0,z.jsx)(O,{id:t,name:s,number:i,url:c,isFavorite:l,toggleModal:a},t)}))}),l&&(0,z.jsx)("p",{children:(0,z.jsx)(B.s5,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"96",visible:!0})})]})},D="Filter_panel__zlfTk",K="Filter_label__vEd1E",J="Filter_input__N7T3z",W="Filter_searchPic__P7Cl2",R="Filter_modalOpen__8iLEA",V=a(3728),Y=a(6036),G=function(e){var t=e.onModalOpen,a=(0,o.I0)(),n=(0,o.v9)(j.S7).filter;return(0,z.jsxs)("div",{className:D,children:[(0,z.jsxs)("label",{className:K,children:[(0,z.jsx)("input",{onChange:function(e){a((0,r.Tv)(e.target.value))},className:J,value:n,type:"text",placeholder:"Search by Name"}),(0,z.jsx)("span",{className:W,children:(0,z.jsx)(V.Vph,{})})]}),(0,z.jsx)("span",{onClick:function(){return t()},className:R,type:"button",title:"Create contact",children:(0,z.jsx)(Y.L0J,{})})]})},Q=a(4164),$="Modal_Overlay__yoxbg",X="Modal_Modal__I1UYJ",ee=document.getElementById("modal-root"),te=function(e){var t=e.children,a=e.onClose;(0,s.useEffect)((function(){var e=function(e){"Escape"===e.code&&a()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[a]);return(0,Q.createPortal)((0,z.jsx)("div",{onClick:function(e){e.target===e.currentTarget&&a()},className:$,children:(0,z.jsx)("div",{className:X,children:t})}),ee)},ae="Contacts_contacts__gVK0J",ne=function(){var e=(0,s.useState)(!1),t=(0,n.Z)(e,2),a=t[0],i=t[1],c=(0,o.I0)(),l=function(){i((function(e){return!e})),c((0,r.r0)({name:"",number:"",url:"",action:"Add"}))};return(0,z.jsxs)("div",{className:ae,children:[(0,z.jsx)(G,{onModalOpen:l}),(0,z.jsx)(P,{toggleModal:l}),a&&(0,z.jsx)(te,{onClose:l,children:(0,z.jsx)(q,{toggleModal:l})})]})},se=ne}}]);
//# sourceMappingURL=245.dc3c370b.chunk.js.map