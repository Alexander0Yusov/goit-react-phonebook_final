"use strict";(self.webpackChunkgoit_react_phonebook_final=self.webpackChunkgoit_react_phonebook_final||[]).push([[245],{9245:function(e,t,n){n.r(t),n.d(t,{Contacts:function(){return ee},default:function(){return te}});var a=n(9439),s=n(2791),r=n(9434),o=n(1634),l=n(3853),i=n(6856),c="Form_form__e1yzW",u="Form_iconSpan__49o47",m="Form_formLabel__alHO0",d="Form_input__FTtTw",_="Form_imageLabel__58gHn",f="Form_icon__zEIiB",p="Form_imageInput__sG6S2",h="Form_button__8NOIT",v="Form_photo__4Kxdb",x=n(2196),g=n(4768),j=n(184),N=function(e){var t=e.toggleModal,n=(0,r.v9)(g.el).contacts,o=(0,r.v9)(g.S7).selectedUser,N=o.id,b=o.name,C=o.number,I=o.url,L=o.action,y=(0,r.I0)(),w=(0,s.useState)(b),F=(0,a.Z)(w,2),k=F[0],S=F[1],E=(0,s.useState)(C),M=(0,a.Z)(E,2),T=M[0],z=M[1],A=(0,s.useState)(I),O=(0,a.Z)(A,2),U=O[0],Z=O[1];return(0,j.jsxs)("form",{onSubmit:function(e){var a;e.preventDefault(),"Add"===L&&function(e){var t=function(e,t){var n=e.toLowerCase();return t.find((function(e){return e.name.toLowerCase()===n}))}(e.name,n);t?alert("".concat(t.name," is already in contacts !")):y((0,x._U)(e))}({name:k,number:T,url:U}),"Edit"===L&&(a={id:N,name:k,number:T,url:U},y((0,x.W3)(a))),t()},className:c,autoComplete:"off",children:[(0,j.jsx)("span",{className:u,children:U?(0,j.jsx)("img",{className:v,src:U,alt:"User portrait"}):(0,j.jsx)(l.fzv,{})}),(0,j.jsx)("label",{className:m,children:(0,j.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:k,onChange:function(e){S(e.currentTarget.value)},className:d,placeholder:"Name"})}),(0,j.jsx)("label",{className:m,children:(0,j.jsx)("input",{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:T,onChange:function(e){z(e.currentTarget.value)},className:d,placeholder:"Number"})}),(0,j.jsxs)("label",{className:_,children:[(0,j.jsx)(i.Kuy,{className:f}),(0,j.jsx)("input",{type:"file",name:"image",accept:"image/*,.png,.jpg,.gif,.web",className:p,onChange:function(e){var t=e.target.files[0],n=new FileReader;n.readAsDataURL(t),n.onload=function(){Z(n.result)}}})]}),(0,j.jsx)("button",{className:h,type:"submit",children:L})]})},b=n(4691),C="ContactList_contactList__UFVCg",I="ContactList_contactListUl__H+yFe",L="ListItem_listItem__POSh4",y="ListItem_imageThumb__Eec-4",w="ListItem_favoriteBorderIcon__ME4Dm",F="ListItem_favoriteIcon__Qnsa3",k="ListItem_dataBox__SmNq0",S="ListItem_pName__pIS+q",E="ListItem_pNumber__5gwYl",M="ListItem_button__6KOfW",T="ListItem_callIcon__0sjQf",z="ListItem_removeIcon__9qhcz",A="ListItem_photoDemo__+09+G",O=n(458),U=n(6355),Z=function(e){var t=e.id,n=e.name,l=e.number,c=e.url,u=e.deleteContact,m=e.toggleModal,d=(0,s.useState)(!1),_=(0,a.Z)(d,2),f=_[0],p=_[1],h=(0,r.I0)();return(0,j.jsxs)("li",{className:L,onClick:function(e){var a=e.target.tagName;"LI"!==a&&"P"!==a||(m(),h((0,o.r0)({id:t,name:n,number:l,url:c,action:"Edit"})))},children:[(0,j.jsxs)("div",{className:y,onClick:function(){p(!f)},children:[c&&(0,j.jsx)("img",{className:A,src:c,alt:"User portrait"}),f?(0,j.jsx)(i.Yqy,{className:F}):(0,j.jsx)(i.iqB,{className:w})]}),(0,j.jsxs)("div",{className:k,children:[(0,j.jsx)("p",{className:S,children:n}),(0,j.jsx)("p",{className:E,children:l})]}),(0,j.jsx)("button",{className:M,type:"button",children:(0,j.jsx)(U.I7T,{className:T})}),(0,j.jsx)("button",{onClick:function(){return u(t)},className:M,type:"button",children:(0,j.jsx)(O.wAo,{className:z})})]})},q=function(e){var t=e.toggleModal,n=(0,r.I0)(),a=(0,r.v9)(g.el),o=a.contacts,l=a.error,i=a.isLoading,c=(0,r.v9)(g.S7).filter;(0,s.useEffect)((function(){n((0,x.Tt)())}),[n]);var u=function(e){n((0,x.z6)(e))};return(0,j.jsxs)("div",{className:C,children:[(0,j.jsx)("ul",{className:I,children:function(){var e=null===c||void 0===c?void 0:c.toLowerCase();return o.filter((function(t){var n;return null===(n=t.name)||void 0===n?void 0:n.toLowerCase().includes(e)})).sort((function(e,t){return e.name.localeCompare(t.name)}))}().map((function(e){var n=e.id,a=e.name,s=e.number,r=e.url;return(0,j.jsx)(Z,{id:n,name:a,number:s,url:r,deleteContact:u,toggleModal:t},n)}))}),l&&(0,j.jsx)("h4",{children:l}),i&&(0,j.jsx)("p",{children:(0,j.jsx)(b.s5,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"96",visible:!0})})]})},B="Filter_panel__zlfTk",P="Filter_label__vEd1E",D="Filter_input__N7T3z",J="Filter_searchPic__P7Cl2",K="Filter_modalOpen__8iLEA",W=n(3728),H=n(6036),V=function(e){var t=e.onModalOpen,n=(0,r.I0)(),a=(0,r.v9)(g.S7).filter;return(0,j.jsxs)("div",{className:B,children:[(0,j.jsxs)("label",{className:P,children:[(0,j.jsx)("input",{onChange:function(e){n((0,o.Tv)(e.target.value))},className:D,value:a,type:"text",placeholder:"Search by Name"}),(0,j.jsx)("span",{className:J,children:(0,j.jsx)(W.Vph,{})})]}),(0,j.jsx)("span",{onClick:function(){return t()},className:K,type:"button",children:(0,j.jsx)(H.L0J,{})})]})},Y=n(4164),G="Modal_Overlay__yoxbg",Q="Modal_Modal__I1UYJ",R=document.getElementById("modal-root"),$=function(e){var t=e.children,n=e.onClose;(0,s.useEffect)((function(){var e=function(e){"Escape"===e.code&&n()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[n]);return(0,Y.createPortal)((0,j.jsx)("div",{onClick:function(e){e.target===e.currentTarget&&n()},className:G,children:(0,j.jsx)("div",{className:Q,children:t})}),R)},X="Contacts_contacts__gVK0J",ee=function(){var e=(0,s.useState)(!1),t=(0,a.Z)(e,2),n=t[0],l=t[1],i=(0,r.I0)(),c=function(){l((function(e){return!e})),i((0,o.r0)({name:"",number:"",url:"",action:"Add"}))};return(0,j.jsxs)("div",{className:X,children:[(0,j.jsx)(V,{onModalOpen:c}),(0,j.jsx)(q,{toggleModal:c}),n&&(0,j.jsx)($,{onClose:c,children:(0,j.jsx)(N,{toggleModal:c})})]})},te=ee}}]);
//# sourceMappingURL=245.50d15d89.chunk.js.map